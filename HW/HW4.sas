
/* 17.10 */
DATA NUM_CHAR;
	INPUT X $ Y $ Z $ DATE : $10. NUMERAL DOB: DATE9.;
	FORMAT DOB MMDDYY10.;
	FORMAT DATE DATE9.;

DATALINES;
10 20 30 10/21/1946 123 09SEP2004
1 2 3 11/11/2004 999 01JAN1960
;

DATA CORRECT;
	SET NUM_CHAR;
	FORMAT DATE DATE10.;
	X1 = INPUT(X, 5.);    
	Y1 = INPUT(Y, 5.);    
	Z1 = INPUT(Z, 5.);
	NUMERAL1 = PUT(NUMERAL,8.);
	DROP X Y Z NUMERAL;
	RENAME X1=X Y1=Y Z1=Z NUMERAL1=NUMERAL;
RUN;

PROC CONTENTS DATA =num_char;
RUN;

PROC CONTENTS DATA =CORRECT;
RUN;



PROC PRINT DATA = CORRECT;
RUN;


/* 18.40 */


DATA STRING;
	INPUT STRING $10.;
DATALINES;
123nj76543
892NY10203
876pA83745
;

DATA NEW_STRING (DROP=I);
	SET STRING;
	X = int(substr(STRING,1,2));
	Y = int(substr(STRING,3,1));
	State = substr(STRING,4,2);
	ARRAY N (5) N1-N5;
		DO I = 1 TO 5;
			N(I)=substr(STRING,I+5,1);
		END;
RUN;

PROC contents DATA =NEW_STRING;
RUN;

/* 18.8 */

DATA ONE1;
	INPUT @1 ID $11.
		  @12 NAME $15.;
	ID1 = compress(ID,'-');
	DROP ID;
DATALINES;
123-45-6789Jeff Smith
111-22-3333Stephen King
999-88-7777Jan Chambliss
;

DATA ONE;
	SET ONE1;
	ID = INPUT(ID1, 11.);
	FORMAT ID ssn11.; /* Apply format to SSN1 */
	DROP ID1;
RUN;

PROC SORT Data=ONE;
	BY ID;
RUN;


DATA TWO;
	INPUT @1 ID 9.
		  @11 SCORE 3.;
	FORMAT ID ssn11.; /* Apply format to SSN1 */
DATALINES;
999887777 100
123456789 65
111223333 59
;

PROC SORT Data=TWO;
	BY ID;
RUN;

DATA BOTH;
	MERGE ONE TWO;
	BY ID;
	PROC PRINT DATA = BOTH;
	VAR ID NAME SCORE;
RUN;

PROC CONTENTS DATA =BOTH;
RUN;



